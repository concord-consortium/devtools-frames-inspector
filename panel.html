<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>PostMessage</title>
  <link rel="stylesheet" href="panel.css">
</head>
<body>
  <!-- Sidebar -->
  <div class="sidebar">
    <div class="sidebar-item active" data-view="messages">
      <span class="sidebar-icon">üìã</span>
      <span class="sidebar-label">Messages</span>
    </div>
    <div class="sidebar-item" data-view="hierarchy">
      <span class="sidebar-icon">üå≤</span>
      <span class="sidebar-label">Hierarchy</span>
    </div>
    <div class="sidebar-item" data-view="settings">
      <span class="sidebar-icon">‚öôÔ∏è</span>
      <span class="sidebar-label">Settings</span>
    </div>
  </div>

  <!-- View container -->
  <div class="view-container">
    <!-- Messages View -->
    <div class="view messages-view active" id="messages-view">
      <!-- Top bar -->
      <div class="top-bar">
        <button id="record-btn" class="icon-btn recording" title="Stop recording">
          <span class="record-icon"></span>
        </button>
        <button id="clear-btn" class="icon-btn" title="Clear">
          <span class="clear-icon"></span>
        </button>
        <div class="separator"></div>
        <label class="preserve-log-label">
          <input type="checkbox" id="preserve-log-checkbox">
          Preserve log
        </label>
      </div>

      <!-- Filter bar -->
      <div class="filter-bar">
        <input type="text" id="filter-input" class="filter-input" placeholder="Filter (e.g., type:resize, -origin:react)">
      </div>

      <!-- Main content area -->
      <div class="main-content">
        <!-- Message table (left pane) -->
        <div class="table-pane">
          <table id="message-table">
            <thead>
              <tr id="header-row"></tr>
            </thead>
            <tbody id="message-tbody"></tbody>
          </table>
        </div>

        <!-- Resize handle -->
        <div class="resize-handle" id="resize-handle"></div>

        <!-- Detail panel (right pane) -->
        <div class="detail-pane" id="detail-pane">
          <div class="detail-tabs">
            <button class="tab-btn active" data-tab="data">Data</button>
            <button class="tab-btn" data-tab="context">Context</button>
            <button class="close-detail-btn" id="close-detail-btn" title="Close">√ó</button>
          </div>
          <div class="tab-content" id="tab-content">
            <div class="placeholder">Select a message to view details</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Hierarchy View -->
    <div class="view hierarchy-view" id="hierarchy-view">
      <!-- Top bar -->
      <div class="top-bar">
        <button id="refresh-hierarchy-btn" class="icon-btn" title="Refresh">
          <span class="refresh-icon"></span>
        </button>
      </div>

      <!-- Main content area -->
      <div class="main-content">
        <!-- Frame table (left pane) -->
        <div class="table-pane">
          <table id="frame-table">
            <thead>
              <tr id="frame-header-row">
                <th>Frame</th>
                <th>URL</th>
                <th>Origin</th>
                <th>Title</th>
                <th>Parent</th>
              </tr>
            </thead>
            <tbody id="frame-tbody"></tbody>
          </table>
        </div>

        <!-- Resize handle -->
        <div class="resize-handle" id="hierarchy-resize-handle"></div>

        <!-- Detail panel (right pane) -->
        <div class="detail-pane hidden" id="frame-detail-pane">
          <div class="detail-tabs">
            <span class="detail-title">Frame Details</span>
            <button class="close-detail-btn" id="close-frame-detail-btn" title="Close">√ó</button>
          </div>
          <div class="tab-content" id="frame-detail-content">
            <div class="placeholder">Select a frame to view details</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Settings View -->
    <div class="view settings-view" id="settings-view">
      <div class="settings-content">
        <h3>Settings</h3>
        <label class="settings-item">
          <input type="checkbox" id="show-extra-info-checkbox">
          Show extra message info (message ID and buffered status)
        </label>
      </div>
    </div>
  </div>

  <!-- Column selector context menu (hidden by default) -->
  <div class="column-menu" id="column-menu"></div>

  <!-- Cell context menu (hidden by default) -->
  <div class="cell-menu" id="cell-menu">
    <div class="menu-item" id="filter-by-value">Filter by this value</div>
  </div>

  <!-- Field info popup (hidden by default) -->
  <div class="field-info-popup" id="field-info-popup"></div>

  <script src="field-info.js"></script>
  <script src="panel.js"></script>
</body>
</html>
